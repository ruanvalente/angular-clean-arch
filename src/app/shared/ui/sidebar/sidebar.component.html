<aside
  [class.w-64]="isOpen()"
  [class.w-20]="!isOpen()"
  class="bg-gray-800 min-h-screen flex flex-col transition-all duration-300 ease-in-out relative"
>
  <div class="p-6 border-b border-gray-700 flex items-center justify-between">
    @if (isOpen()) {
    <h2 class="text-2xl font-bold text-white flex items-center gap-2">
      <span class="text-blue-400">ðŸ“‹</span>TaskApp
    </h2>
    } @else {
    <div class="flex items-center justify-center w-full">
      <span class="text-3xl">ðŸ“‹</span>
    </div>
    }
  </div>

  <nav class="flex-1 px-3 py-6 space-y-2">
    @for (item of navItems; track item.route) { @if (isOpen()) {
    <app-sidebar-nav-item [label]="item.label" [icon]="item.icon" [route]="item.route" />
    } @else {
    <a
      [routerLink]="item.route"
      routerLinkActive="bg-blue-600 text-white"
      [routerLinkActiveOptions]="{ exact: true }"
      class="flex items-center justify-center p-3 text-gray-300 hover:bg-gray-700 hover:text-white rounded-lg transition-colors duration-200"
      [title]="item.label"
    >
      <span class="text-xl">{{ item.icon }}</span>
    </a>
    } }
  </nav>

  <div class="p-4 border-t border-gray-700">
    @if (isOpen()) {
    <p class="text-xs text-gray-400 text-center">v1.0.0</p>
    } @else {
    <p class="text-xs text-gray-400 text-center">â€¢</p>
    }
  </div>

  <button
    (click)="toggleSidebar()"
    class="absolute -right-4 top-16 bg-gray-700 hover:bg-gray-800 hover:cursor-pointer text-white rounded-full p-2 shadow-lg transition-all duration-300 ease-in-out z-50"
    [title]="isOpen() ? 'Fechar menu' : 'Abrir menu'"
  >
    <svg
      class="w-6 h-6 text-white transition-transform duration-300"
      [class.rotate-180]="!isOpen()"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M15 19l-7-7 7-7"
      ></path>
    </svg>
  </button>
</aside>
